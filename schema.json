{
  "type": "component",
  "metadata": {},
  "schema": {
    "name": "bb-component-SuperFieldOption",
    "friendlyName": "Super Field - Option",
    "description": "An Option Input Field component for Budibase",
    "icon": "Menu",
    "requiredAncestors": ["form"],
    "block" : true,
    "ejectable" : false,
    "context" : [
      {
        "type": "static",
        "values": [
          {
            "label": "Value",
            "key": "value",
            "type": "string"
          } 
        ]
      }
    ],
    "settings": [
      {
        "type" : "select",
        "label"  : "Field Type",
        "key" : "valueType",
        "defaultValue" : "string",
        "options" : [
          {"label" : "String/Option" , "value" : "string" },
          {"label" : "Number" , "value" : "int" }
        ]
      },
      {
        "type": "field/options",
        "label": "Field",
        "key": "field",
        "resetOn" : "valueType",
        "required": true,
        "dependsOn" : {"setting" : "valueType", "value" : "string" }
      },
      {
        "type": "field/number",
        "label": "Field",
        "resetOn" : "valueType",
        "key": "numfield",
        "required": true,
        "dependsOn" : {"setting" : "valueType", "value" : "int" }
      },
      {
        "type": "text",
        "label": "Label",
        "key": "fieldLabel",
        "resetOn" : ["field", "numfield"],
        "placeholder" : "Field Name"

      },
      {
        "type": "text",
        "label": "Placeholder",
        "key": "placeholder",
        "placeholder": "Choose Option"
      },
      {
        "type": "text",
        "label": "Default value",
        "key": "defaultValue",
        "supportsConditions": false
      },
      {
        "type": "text",
        "label": "Help text",
        "key": "helpText"
      },
      {
        "type": "validation/string",
        "label": "Validation",
        "key": "validation",
        "resetOn" : "valueType",
        "dependsOn" : {"setting" : "valueType", "value" : "string" }
      },
      {
        "type": "validation/number",
        "label": "Validation",
        "key": "numvalidation",
        "resetOn" : "valueType",
        "dependsOn" : {"setting" : "valueType", "value" : "int" }
      },
      {
        "type": "event",
        "label": "On change",
        "key": "onChange",
        "context": [
          {
            "label": "Field Value",
            "key": "value"
          }
        ]
      },
      {
        "type": "select",
        "label": "Control Type",
        "key": "controlType",
        "defaultValue": "select",
        "placeholder": "Pick an options type",
        "options": [
          {
            "label": "Select",
            "value": "select"
          },
          {
            "label": "Radioboxes",
            "value": "radio"
          }
        ]
      },
      {
        "type": "select",
        "label": "Arrangement",
        "key": "optionsArrangement",
        "defaultValue": 1,
        "showInBar": false,
        "barStyle": "buttons",
        "resetOn" : "controlType",
        "dependsOn": {"setting" : "controlType", "value": "select", "invert" : true},
        "options": [
          {
            "label": "1 column",
            "value": 1,
            "barIcon": "Stop",
            "barTitle": "1 column"
          },
          {
            "label": "2 columns",
            "value": 2,
            "barIcon": "ColumnTwoA",
            "barTitle": "2 columns"
          },
          {
            "label": "3 columns",
            "value": 3,
            "barIcon": "ViewColumn",
            "barTitle": "3 columns"
          }
        ]
      },
      {
        "type": "select",
        "label": "Options source",
        "key": "optionsSource",
        "defaultValue": "schema",
        "placeholder": "Pick an options source",
        "options": [
          {
            "label": "Schema",
            "value": "schema"
          },
          {
            "label": "Data",
            "value": "data"
          },
          {
            "label": "Custom",
            "value": "custom"
          }
        ]
      },
      {
        "section" : true,
        "name" : "Data Settings",
        "dependsOn" : { "setting" : "optionsSource", "value" : "data" },
        "settings" : [
          {
            "type": "dataSource",
            "label": "Data",
            "key": "datasource",
            "resetOn" : "optionsSource",
            "required": true,
            "dependsOn": {
              "setting": "optionsSource",
              "value": "data"
            }
          },
          {
            "type": "filter",
            "label": "Filtering",
            "key": "filter",
            "resetOn" : "datasource"
          },
          {
            "type": "field/sortable",
            "label": "Sort column",
            "key": "sortColumn",
            "resetOn" : "datasource",
            "placeholder": "None"
          },
          {
            "type": "select",
            "label": "Sort order",
            "key": "sortOrder",
            "resetOn" : "datasource",
            "options": ["Ascending", "Descending"],
            "defaultValue": "Ascending"
          },
          {
            "type": "number",
            "label": "Limit",
            "key": "limit",
            "resetOn" : "datasource",
            "defaultValue": 10
          },
          {
            "type": "field",
            "label": "Value column",
            "key": "valueColumn",
            "required": true,
            "resetOn" : "datasource",
            "dependsOn": {
              "setting": "optionsSource",
              "value": "data"
            }
          },
          {
            "type": "field",
            "label": "Label column",
            "key": "labelColumn",
            "resetOn" : "datasource",
            "dependsOn": {
              "setting": "optionsSource",
              "value": "data"
            }
          },
          {
            "type": "field",
            "label": "Color column",
            "key": "colorColumn",
            "resetOn" : "datasource",
            "dependsOn": {
              "setting": "optionsSource",
              "value": "data"
            }
          },
          {
            "type": "field",
            "label": "Icon column",
            "key": "iconColumn",
            "resetOn" : "datasource",
            "dependsOn": {
              "setting": "optionsSource",
              "value": "data"
            }
          }
        ]
      },
      {
        "type": "options",
        "key": "customOptions",
        "label": "Custom Options",
        "dependsOn": {
          "setting": "optionsSource",
          "value": "custom"
        }
      },
      {
        "type": "boolean",
        "label": "Debounced",
        "key": "debounced",
        "defaultValue": false
      },
      {
        "type": "number",
        "label": "Debounce Delay (ms)",
        "key": "debounceDelay",
        "minValue" : "200",
        "defaultValue": 750,
        "dependsOn": "debounced"
      },
      {
        "type": "boolean",
        "label": "Autocomplete",
        "key": "autocomplete",
        "resetOn" : "controlType",
        "defaultValue": false,
        "dependsOn": {
          "setting": "controlType",
          "value": "select"
        }
      },
      {
        "type": "boolean",
        "label": "Allow New Value",
        "key": "addNew",
        "defaultValue": false,
        "dependsOn": {
          "setting": "autocomplete",
          "value": true
        }
      },
      {
        "type": "boolean",
        "label": "Disabled",
        "key": "disabled",
        "defaultValue": false
      },
      {
        "type": "boolean",
        "label": "Read only",
        "key": "readonly",
        "defaultValue": false,
        "dependsOn": {
          "setting": "disabled",
          "value": true,
          "invert": true
        }
      },
      {
        "type" : "boolean",
        "key"  : "showIcon",
        "label": "Add Inline Icon"
      },
      {
        "type" : "icon",
        "key"  : "icon",
        "label": "Icon",
        "resetOn" : "showIcon",
        "dependsOn" : "showIcon"
      },
      {
        "type" : "boolean",
        "key"  : "customButtons",
        "label": "Add Buttons"
      },
      {
        "type" : "buttonConfiguration",
        "key"  : "buttons",
        "nested" : true,
        "dependsOn" : "customButtons"
      },
      {
        "tag" : "style",
        "type" : "boolean",
        "key" : "useOptionColors",
        "label" : "Option Colors",
        "defaultValue" : false
      },
      {
        "tag" : "style",
        "type" : "boolean",
        "key" : "useOptionIcons",
        "label" : "Option Icons",
        "defaultValue" : false
      },
      {
        "tag" : "style",
        "type": "select",
        "label": "Options Mode",
        "key": "optionsViewMode",
        "defaultValue": "text",
        "showInBar": true,
        "barStyle": "buttons",
        "options": [
          {
            "label": "Pills",
            "value": "pills",
            "barIcon": "Button"
          },
          {
            "label": "text",
            "value": "text",
            "barIcon": "Text"
          }
        ]
      },
      {
        "tag" : "style",
        "type": "select",
        "label": "Layout",
        "key": "span",
        "defaultValue": 6,
        "showInBar": true,
        "barStyle": "buttons",
        "options": [
          {
            "label": "1 column",
            "value": 6,
            "barIcon": "Stop",
            "barTitle": "1 column"
          },
          {
            "label": "2 columns",
            "value": 3,
            "barIcon": "ColumnTwoA",
            "barTitle": "2 columns"
          },
          {
            "label": "3 columns",
            "value": 2,
            "barIcon": "ViewColumn",
            "barTitle": "3 columns"
          }
        ]
      }
    ]
  }
}